**DHCP** *(dynamic host configuration protocol)*  - сетевой протокол для автоматической выдачи IP адреса и других сетевых параметров, устройствам в сети.

###### **DHCP сервер** - тот кто раздает [[IP adress| ip адреса]], и может быть запущен не только на одном из [[Host|хостов]] но и на роутере
**DHCP сервер** [[listening|использует]] 67 [[Port|порт]], а **DHCP** **клиент** [[listening|использует]] 68 [[Port|порт]]

**DHCP клиент** - тот кто запрашивает, и получает ip адрес

[[#**DHCP сервер** - тот кто раздает IP adress ip адреса , и может быть запущен не только на одном из Host хостов но и на роутере|Сервер]] выдает по запросу ip адрес из диапазона/пула (Pool) доступных, а также маску подсети, [[Шлюз (Gateway)|шлюз]] по умолчанию, и может сообщить IP [[DNS|DNS сервера]]

Чтобы получить IP адрес в новой сети компьютер шлет широковещательное (<mark style="background: #BBFABBA6;">broadcast</mark>) сообщение всем в сети под названием **DHCP discover** 

1)**DHCP Discover** это первый шаг в получении IP адреса.
- Клиент отправляет широковещательное сообщение в сеть, чтобы найти доступные DHCP-серверы.
- Сообщение отправляется с адреса 0.0.0.0 (поскольку у клиента еще нет IP-адреса) на адрес 255.255.255.255 (*<mark style="background: #BBFABBA6;">broadcast</mark>*)
- Это сообщение содержит информацию о клиента, такую как [[MAC (Media Access Control)|MAC-адрес]], чтобы серверы могли идентифицировать устройство.

2)**DHCP Offer** 
- После получения сообщения **DHCP Discover**, один или несколько **DHCP-серверов** отвечают клиенту с предложением (*Offer*).
- В этом предложении сервер указывает IP-адрес, который он готов назначить клиенту, а также другие параметры, такие как маска подсети, [[Шлюз (Gateway)|шлюз]] по умолчанию и [[DNS|DNS-серверы.]]
- Сообщение отправляется в виде широковещательного сообщения. Или конкретно клиенту (<mark style="background: #FF5582A6;">unicast</mark>), используется когда сервер уверен, что клиент может принимать одноадресные сообщения. Например в случае обновления аренды ([[#Время аренды(*lease time*) - это период, в течение которого DHCP-сервер разрешает клиенту использовать назначенный IP-адрес|lease time]])

3)**DHCP Request** 
- Клиент выбирает одно из предложений (в случае, если он получил предложения от нескольких серверов) и отправляет запрос (Request) для подтверждения выбранного IP-адреса.
- Этот запрос также отправляется как **<mark style="background: #BBFABBA6;">широковещательное</mark>** сообщение, чтобы все **DHCP-серверы** в сети могли увидеть, что клиент выбрал определенный сервер и IP-адрес.
- Запрос также может включать другие параметры, которые клиент запрашивает, такие как [[#Время аренды(*lease time*) - это период, в течение которого DHCP-сервер разрешает клиенту использовать назначенный IP-адрес|время аренды]] IP-адреса.

4)**DHCP Acknowledgment (ACK)** ()
- DHCP-сервер, который предложил выбранный клиентом IP-адрес, отправляет подтверждение (ACK) клиенту

5)**DHCP NACK**
- некоторых случаях сервер может отправить отказ (NACK), если по каким-то причинам не может предоставить запрашиваемый IP-адрес
- В этом случае клиент должен повторить процесс с начала, отправив новый **DHCP Discover**.

6)**DHCP Release**
- Когда клиент больше не нуждается в IP-адресе (например, при выключении или перезапуске), он отправляет сообщение **DHCP Release** серверу чтобы освободить назначенный ему адрес

###### Время аренды(*lease time*) - это период, в течение которого DHCP-сервер разрешает клиенту использовать назначенный IP-адрес